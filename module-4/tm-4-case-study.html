<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Dr.&nbsp;Shaun Kellogg">
<meta name="dcterms.date" content="2025-07-13">

<title>ENA and Virtual Internship Conversations</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="tm-4-case-study_files/libs/clipboard/clipboard.min.js"></script>
<script src="tm-4-case-study_files/libs/quarto-html/quarto.js"></script>
<script src="tm-4-case-study_files/libs/quarto-html/popper.min.js"></script>
<script src="tm-4-case-study_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="tm-4-case-study_files/libs/quarto-html/anchor.min.js"></script>
<link href="tm-4-case-study_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="tm-4-case-study_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="tm-4-case-study_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="tm-4-case-study_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="tm-4-case-study_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="tm-4-case-study_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="tm-4-case-study_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">0. INTRODUCTION</a>
  <ul class="collapse">
  <li><a href="#case-study-focus" id="toc-case-study-focus" class="nav-link" data-scroll-target="#case-study-focus">Case Study Focus</a></li>
  </ul></li>
  <li><a href="#prepare" id="toc-prepare" class="nav-link" data-scroll-target="#prepare">1. PREPARE</a>
  <ul class="collapse">
  <li><a href="#a.-context" id="toc-a.-context" class="nav-link" data-scroll-target="#a.-context">1a. Context</a></li>
  <li><a href="#b.-guiding-questions" id="toc-b.-guiding-questions" class="nav-link" data-scroll-target="#b.-guiding-questions">1b. Guiding Questions</a></li>
  <li><a href="#c.-load-libraries" id="toc-c.-load-libraries" class="nav-link" data-scroll-target="#c.-load-libraries">1c. Load Libraries</a></li>
  </ul></li>
  <li><a href="#wrangle" id="toc-wrangle" class="nav-link" data-scroll-target="#wrangle">2. WRANGLE</a>
  <ul class="collapse">
  <li><a href="#a.-import-rescushell-data" id="toc-a.-import-rescushell-data" class="nav-link" data-scroll-target="#a.-import-rescushell-data">2a. Import RescuShell Data</a></li>
  <li><a href="#b.-specify-ena-model-parameters" id="toc-b.-specify-ena-model-parameters" class="nav-link" data-scroll-target="#b.-specify-ena-model-parameters">2b. Specify ENA Model Parameters</a></li>
  <li><a href="#c.-construct-an-ena-model" id="toc-c.-construct-an-ena-model" class="nav-link" data-scroll-target="#c.-construct-an-ena-model">2c. Construct an ENA Model</a></li>
  </ul></li>
  <li><a href="#explore" id="toc-explore" class="nav-link" data-scroll-target="#explore">3. EXPLORE</a>
  <ul class="collapse">
  <li><a href="#a.-visual-summary-of-key-model-outputs" id="toc-a.-visual-summary-of-key-model-outputs" class="nav-link" data-scroll-target="#a.-visual-summary-of-key-model-outputs">3a. Visual Summary of Key Model Outputs</a></li>
  <li><a href="#a.-descriptive-summary-of-key-model-outputs" id="toc-a.-descriptive-summary-of-key-model-outputs" class="nav-link" data-scroll-target="#a.-descriptive-summary-of-key-model-outputs">3a. Descriptive Summary of Key Model Outputs</a></li>
  </ul></li>
  <li><a href="#model" id="toc-model" class="nav-link" data-scroll-target="#model">4. MODEL</a>
  <ul class="collapse">
  <li><a href="#a.-compare-groups-statistically" id="toc-a.-compare-groups-statistically" class="nav-link" data-scroll-target="#a.-compare-groups-statistically">4a. Compare Groups Statistically</a></li>
  <li><a href="#b.-model-evaluation" id="toc-b.-model-evaluation" class="nav-link" data-scroll-target="#b.-model-evaluation">4b. Model evaluation</a></li>
  <li><a href="#using-ena-model-outputs-in-other-analyses" id="toc-using-ena-model-outputs-in-other-analyses" class="nav-link" data-scroll-target="#using-ena-model-outputs-in-other-analyses">Using ENA model outputs in other analyses</a></li>
  </ul></li>
  <li><a href="#communicate" id="toc-communicate" class="nav-link" data-scroll-target="#communicate">5. COMMUNICATE</a>
  <ul class="collapse">
  <li><a href="#congratulations" id="toc-congratulations" class="nav-link" data-scroll-target="#congratulations">Congratulations!</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">ENA and Virtual Internship Conversations</h1>
<p class="subtitle lead">TM Module 3: Case Study</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Dr.&nbsp;Shaun Kellogg </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 13, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">0. INTRODUCTION</h2>
<p>This case study extends the methodology presented in the Learning Analytics in STEM Education Research (LASER) Institute by demonstrating the application of Epistemic Network Analysis (ENA) to explore collaborative learning processes in digital STEM education environments. ENA is a sophisticated technique that visualizes and quantifies connections among concepts in coded data, offering rich insights into how learners construct knowledge collaboratively.</p>
<p>Epistemic Network Analysis, developed by David Williamson Shaffer and colleagues, enables researchers to analyze discourse and interactions within learning communities, revealing the patterns of connections among key elements of the learning process. The method is particularly valuable in STEM education research, where understanding complex interactions is critical for improving learning outcomes and pedagogical practices.</p>
<section id="case-study-focus" class="level3">
<h3 class="anchored" data-anchor-id="case-study-focus">Case Study Focus</h3>
<p>This case study is adapted from a chapter by Tan et al. <span class="citation" data-cites="tan2024epistemic">Tan et al. (<a href="#ref-tan2024epistemic" role="doc-biblioref">2024</a>)</span> in the excellent book, Learning <a href="https://lamethods.org">Analytics Methods and Tutorials</a>. Our focus will be on applying ENA to investigate discourse patterns in a collaborative digital STEM learning environment. Specifically, we will examine how participants engage in problem-solving activities, make connections between STEM concepts, and collaboratively construct knowledge.By using ENA, researchers can systematically map the epistemic frames that occur when learners collaboratively tackle STEM-related problems, providing a quantitative yet qualitative-rich understanding of group learning dynamics. This analysis is particularly critical for understanding the nuances of learner interactions in digital environments, which often involve complex dialogues and exchanges that traditional qualitative methods might miss or oversimplify.</p>
<p>Our ENA case study covers the following concepts and skills:</p>
<ol type="1">
<li><p><strong>Prepare.</strong> In the Prepare phase, we familiarize ourselves with the context of our case study, which leverages data from virtual internships aimed at enhancing engineering design thinking. We define specific research questions guided by prior studies and set up our analytical environment by loading essential R packages needed for our analyses, including {tidyverse}, {tidytext}, and {rENA}.</p></li>
<li><p><strong>Wragle.</strong> In the Wrangle phase, we carefully import, organize, and prepare our data for analysis. This involves importing text-based discourse data from the RescuShell internship, specifying critical parameters for the ENA model (such as units of analysis, qualitative coding schemes, conversational boundaries, window size for capturing interactions, and group definitions), and finally constructing an ENA model object that captures our data’s structure and interaction patterns.</p></li>
<li><p><strong>Explore.</strong> In the Explore phase, we use both visual and numeric methods to deeply investigate and interpret our ENA model. We create visual summaries of key model outputs, plotting mean networks and identifying meaningful differences across groups. We also provide numeric summaries of connection counts, normalized line weights, and ENA points to further understand underlying quantitative patterns that shape our visualizations.</p></li>
<li><p><strong>Model</strong> In the Model phase, we conduct rigorous statistical analyses to validate and interpret the patterns observed in the visual and numeric explorations. We perform comparative statistical tests (such as t-tests and Mann-Whitney U tests) to evaluate differences in epistemic network structures between novice and expert learner conditions. Additionally, we evaluate model quality through variance explained, goodness-of-fit statistics, and interpretive validation (closing the interpretative loop) to ensure robust and meaningful results.</p></li>
<li><p><strong>Communication.</strong> Finally, in the Communicate phase, we synthesize and clearly articulate our key findings, selecting the most meaningful insights to share with broader audiences. We focus on translating complex analyses into actionable insights through polished data visualizations and narrative explanations that align closely with our original research questions.</p></li>
</ol>
</section>
</section>
<section id="prepare" class="level2">
<h2 class="anchored" data-anchor-id="prepare">1. PREPARE</h2>
<p>To help us better understand the context, questions, and data sources we’ll be using in Module 3, this section will focus on the following topics:</p>
<ol type="a">
<li><strong>Context</strong>. As context for our analysis this week, we’ll review an article by Arastoopour et al. <span class="citation" data-cites="arastoopour2015teaching">Arastoopour Irgens et al. (<a href="#ref-arastoopour2015teaching" role="doc-biblioref">2015</a>)</span> that uses ENA to explore virtual internships as one method for teaching engineering design thinking.</li>
<li><strong>Questions.</strong> We’ll also examine what insight topic modeling can provide to a question that we asked participants to answer in their professional learning teams (PLTs).</li>
<li><strong>Project Setup.</strong> This should be very familiar by now, but we’ll also learn about load the required packages for the topic modeling case study.</li>
</ol>
<section id="a.-context" class="level3">
<h3 class="anchored" data-anchor-id="a.-context">1a. Context</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/arastoopour.png" title="Our world is rich with data sources, and technology makes data more accessible than ever before! To help ensure students are future ready to use data for making informed decisions, many countries around the world have increased the emphasis on statistics and data analysis in school curriculum–from elementary/primary grades through college. This course allows you to learn, along with colleagues from other schools, an investigation cycle to teach statistics and to help students explore data to make evidence-based claims. To learn more about engaging learners in making inferences and claims supported by data and how to emphasize inferential reasoning in teaching statistics through posing different types of investigative questions, enroll in our Teaching Statistics through Inferential Reasoning MOOC-Ed." class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Arastoopour Irgens, G., Shaffer, D. W., Swiecki, Z., Ruis, A. R., &amp; Chesler, N. C. (2015). [Teaching and assessing engineering design thinking with virtual internships and epistemic network analysis.](https://open.clemson.edu/cgi/viewcontent.cgi?article=1004&amp;context=ed_human_dvlpmnt_pub) International Journal of Engineering Education.</figcaption>
</figure>
</div>
<section id="abstract" class="level4">
<h4 class="anchored" data-anchor-id="abstract"><strong>Abstract</strong></h4>
<p>An engineering workforce of sufficient size and quality is essential for addressing significant global challenges such as climate change, world hunger, and energy demand. Future generations of engineers will need to identify challenging issues and design innovative solutions. To prepare young people to solve big and increasingly global problems, researchers and educators need to understand how we can best educate young people to use engineering design thinking. In this paper, we explore virtual internships, online simulations of 21st-century engineering design practice, as one method for teaching engineering design thinking. To assess the engineering design thinking, we use epistemic network analysis (ENA), a tool for measuring complex thinking as it develops over time based on discourse analysis. The combination of virtual internships and ENA provides opportunities for students to engage in authentic engineering design, potentially receive concurrent feedback on their engineering design thinking, and develop the identity, values, and ways of thinking of professional engineers.</p>
</section>
<section id="data-source-analysis" class="level4">
<h4 class="anchored" data-anchor-id="data-source-analysis"><strong>Data Source &amp; Analysis</strong></h4>
<p>Interaction data were collected from <a href="https://www.virtualinterns.org/rescushell/">RescuShell</a>, an engineering virtual internship platform. This digital platform provides a realistic engineering context where learners collaborate in solving authentic problems, simulating tasks common to engineering practice. The data used in this case study were previously examined by Shaffer &amp; Arastoopour (2014), Arastoopour et al.&nbsp;(2016), and Chesler et al.&nbsp;(2015). The data consist primarily of text-based interactions recorded in discussion forums, chat logs, and collaborative workspaces within RescuShell.</p>
<p>For further details regarding data collection and analysis of these data sources, see also the following papers:</p>
<ul>
<li><p>Shaffer, D. W., &amp; Arastoopour, G. (2014). Epistemic network analysis of engineering virtual internships. Journal of Engineering Education, 103(4), 625-651.</p></li>
<li><p>Arastoopour, G., Shaffer, D. W., Chesler, N. C., &amp; Linderoth, J. (2016). Epistemic network analysis as a measure of critical thinking in engineering education. International Journal of Engineering Education, 32(6), 2476-2486.</p></li>
<li><p>Chesler, N. C., Arastoopour, G., D’Angelo, C. M., Bagley, E. A., &amp; Shaffer, D. W. (2015). Design of professional practice simulator for educating and motivating first-year engineering students. Advances in Engineering Education, 4(2), 1-27.</p></li>
</ul>
</section>
<section id="summary-of-key-findings" class="level4">
<h4 class="anchored" data-anchor-id="summary-of-key-findings"><strong>Summary of Key Findings</strong></h4>
<p>The following highlights key findings related to the discourse and interactions in engineering virtual internships:</p>
<ul>
<li><p>ENA effectively identified distinct discourse patterns among learners participating in engineering virtual internships, highlighting how knowledge was co-constructed and shared within these collaborative spaces.</p></li>
<li><p>Analysis demonstrated how learners’ epistemic networks evolved significantly as they engaged in iterative problem-solving activities, with certain key concepts becoming increasingly central as students collaboratively advanced through the internship challenges.</p></li>
<li><p>Results indicated that the discourse patterns identified by ENA corresponded to deeper cognitive engagement, where students actively negotiated and co-constructed engineering knowledge rather than merely exchanging surface-level information.</p></li>
<li><p>Findings from prior analyses underscore the utility of ENA in capturing nuanced learner interactions and in differentiating between various collaborative learning approaches, suggesting its broader applicability in other STEM education research contexts.</p></li>
</ul>
</section>
</section>
<section id="b.-guiding-questions" class="level3">
<h3 class="anchored" data-anchor-id="b.-guiding-questions">1b. Guiding Questions</h3>
<p>For this case study, we are interested in unpacking how participants involved in engineering virtual internships, such as those provided through the RescuShell platform, collaboratively engage in epistemic interactions that shape their learning experiences. Our specific research questions for this case study are:</p>
<ol type="1">
<li>What are the patterns of epistemic connections formed by learners as they collaboratively engage in engineering problem-solving tasks within digital internship environments?</li>
<li>Is there a difference in learners’ epistemic frames based on the condition to which they were assigned?</li>
</ol>
<p>Previous studies on ENA within engineering education have identified critical epistemic connections associated with deep learning processes. One of the central questions researchers aimed to address was:</p>
<blockquote class="blockquote">
<p>How do epistemic networks evolve throughout the collaborative problem-solving activities?</p>
</blockquote>
<p>For this case study, we will further examine this question through the use of ENA.</p>
<p>Moreover, echoing a central question identified by Silge and Robinson (2018) as critical to text mining and natural language processing, this case study will continuously explore:</p>
<blockquote class="blockquote">
<p>How do we quantify what a document or collection of documents is about?</p>
</blockquote>
</section>
<section id="c.-load-libraries" class="level3">
<h3 class="anchored" data-anchor-id="c.-load-libraries">1c. Load Libraries</h3>
<p>As highlighted in <a href="https://datascienceineducation.com/c06#c06p">Chapter 6 of Data Science in Education Using R</a> (DSIEUR), <strong>packages</strong> are shareable collections of R code that contain functions, data, and documentation. Sometimes refered to as libraries, these <strong>packages</strong>:</p>
<blockquote class="blockquote">
<p>increase the functionality of R by providing access to additional functions to suit a variety of needs. While it is entirely possible to do your work in R without packages, it’s not recommend. There are a wealth of packages available that reduce the learning curve the time spent on analytical projects.</p>
</blockquote>
<p>Run the code chunk below to load {tidyvers} and {tidytext} packages that were introduced in previous units:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidytext)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="the-rena-package" class="level4">
<h4 class="anchored" data-anchor-id="the-rena-package">The rENA Package 📦</h4>
<p><img src="img/rena-logo.png" class="img-fluid"></p>
<p>The {rENA} package provides a comprehensive set of tools specifically designed for conducting Epistemic Network Analysis. It enables users to create visual representations and statistical models of the connections between coded data elements, particularly useful in educational and collaborative learning contexts. Key functions in the {rENA} package facilitate data preparation, network modeling, and interactive visualization, making it a valuable resource for researchers aiming to explore complex discourse and interaction patterns.</p>
</section>
<section id="your-turn" class="level4">
<h4 class="anchored" data-anchor-id="your-turn"><strong>👉 Your Turn ⤵</strong></h4>
<p>Use the code chunk below to load the {rENA} package:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="wrangle" class="level2">
<h2 class="anchored" data-anchor-id="wrangle">2. WRANGLE</h2>
<p>As noted previously, data wrangling involves some combination of cleaning, reshaping, transforming, and merging data <span class="citation" data-cites="wickham2023r">(<a href="#ref-wickham2023r" role="doc-biblioref">Wickham, Çetinkaya-Rundel, and Grolemund 2023</a>)</span>. In Section 2, we prepare our dataset for Epistemic Network Analysis (ENA). This process, commonly referred to as data wrangling, involves importing, cleaning, and organizing the data, as well as specifying key parameters required to construct our ENA model. Specifically, we’ll focus on the following key steps:</p>
<ol type="a">
<li><strong>Import RescuShell Data</strong>. We begin by importing our dataset from RescuShell, an online simulation where students collaboratively address engineering design problems. We’ll inspect and understand the structure of our imported data, including qualitative codes assigned to the text data from online chats.</li>
<li><strong>Specify ENA Model Parameters</strong>. Next, we outline and set critical parameters needed for the ENA model. This includes specifying our units of analysis, qualitative codes representing conceptual nodes, conversational boundaries, window size to capture interactions, group comparisons, and relevant metadata.</li>
<li><strong>Construct an ENA Model</strong>. Finally, we use the prepared parameters to accumulate the data and create a structured ENA model object, laying the foundation for visual and numerical exploration of networked discourse patterns in Section 3.</li>
</ol>
<section id="a.-import-rescushell-data" class="level3">
<h3 class="anchored" data-anchor-id="a.-import-rescushell-data">2a. Import RescuShell Data</h3>
<p>To get started, we need to import, or “read”, our data into R. The function used to import your data will depend on the file format of the data you are trying to import. First, however, check your Files tab in RStudio to verify that there is indeed file named <code>rescushell-data.csv</code> in your <code>data</code> folder.</p>
<p>Our data file consists of discourse from RescuShell, an online learning simulation where students work as interns at a fictitious company to solve a realistic engineering design problem in a simulated work environment. Throughout the internship, students communicate with their project teams and mentors via online chat, and these chats are recorded in the <code>text</code> column. A set of qualitative codes were applied to the data in the “text” column, where a value of 0 indicates the absence of the code and a value of 1 indicates the presence of the code in a given line.</p>
<p>Further details about the RS.data dataset can be found in Shaffer &amp; Arastoopour <span class="citation" data-cites="shaffer2014guide">D. Shaffer and Arastoopour (<a href="#ref-shaffer2014guide" role="doc-biblioref">2014</a>)</span>. Analyses of data from RescuShell and other engineering virtual internships can be found in Arastoopour et al. <span class="citation" data-cites="arastoopour2015teaching">Arastoopour Irgens et al. (<a href="#ref-arastoopour2015teaching" role="doc-biblioref">2015</a>)</span> and Chesler et al. <span class="citation" data-cites="chesler2015novel">Chesler et al. (<a href="#ref-chesler2015novel" role="doc-biblioref">2015</a>)</span>.</p>
<p>Now let’s read our data into our Environment using the <code>read_csv()</code> function and assign it to a variable named <code>rescushell_data</code> so we can work with it like any other object in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>rescushell_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"data/rescushell-data.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="your-turn-1" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-1"><strong>👉 Your Turn ⤵</strong></h4>
<p>Use the code chunk below to inspect the data frame you just imported using a function of your choosing and answer the questions that follow:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this case study, we are exploring the use of Epistemic Network Analysis (ENA) to analyze collaborative discussions within the RescuShell virtual internship platform. One critical step in preparing data for analysis is creating a codebook, which serves as a reference document that defines each variable in a dataset, including its meaning, format, and potential values.</p>
<p>In the table below, a short description is provided for each variable based on the dataset provided. The first one has been completed for you:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 30%">
<col style="width: 69%">
</colgroup>
<thead>
<tr class="header">
<th>Variable Name</th>
<th>Short Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>UserName</td>
<td>Unique identifier (username) for each participant.</td>
</tr>
<tr class="even">
<td>Condition</td>
<td></td>
</tr>
<tr class="odd">
<td>CONFIDENCE.Pre</td>
<td></td>
</tr>
<tr class="even">
<td>CONFIDENCE.Post</td>
<td></td>
</tr>
<tr class="odd">
<td>CONFIDENCE.Change</td>
<td></td>
</tr>
<tr class="even">
<td>C.Level.Pre</td>
<td></td>
</tr>
<tr class="odd">
<td>NewC.Change</td>
<td></td>
</tr>
<tr class="even">
<td>C.Change</td>
<td></td>
</tr>
<tr class="odd">
<td>Timestamp</td>
<td></td>
</tr>
<tr class="even">
<td>ActivityNumber</td>
<td></td>
</tr>
<tr class="odd">
<td>GroupName</td>
<td></td>
</tr>
<tr class="even">
<td>GameHalf</td>
<td></td>
</tr>
<tr class="odd">
<td>GameDay</td>
<td></td>
</tr>
<tr class="even">
<td>text</td>
<td></td>
</tr>
<tr class="odd">
<td>Data</td>
<td></td>
</tr>
<tr class="even">
<td>Technical.Constraints</td>
<td></td>
</tr>
<tr class="odd">
<td>Performance.Parameters</td>
<td></td>
</tr>
<tr class="even">
<td>Client.and.Consultant.Requests</td>
<td></td>
</tr>
<tr class="odd">
<td>Design.Reasoning</td>
<td></td>
</tr>
<tr class="even">
<td>Collaboration</td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="b.-specify-ena-model-parameters" class="level3">
<h3 class="anchored" data-anchor-id="b.-specify-ena-model-parameters">2b. Specify ENA Model Parameters</h3>
<p>To prepare data for ENA model, there is a function called <code>ena()</code> which enables researchers to set the parameters for their model. This function wraps two other functions—<code>ena.accumulate.data()</code>&nbsp;and&nbsp;<code>ena.make.set()</code>—which can be used together to achieve the same result.</p>
<p>The following sections demonstrate how to set each parameter and explain how different choices affect the resulting ENA model.</p>
<section id="specify-units" class="level4">
<h4 class="anchored" data-anchor-id="specify-units">Specify Units</h4>
<p>In ENA, <strong><em>units</em></strong> can be individuals, ideas, organizations, or any other entity whose structure of connections you want to model. To set the units parameter, specify which column(s) in the data contain the variables that identify unique units.</p>
<p>For this example, we’ll use the <code>Condition</code> column and the <code>UserName</code> column to define the units.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Learner Conditions</strong>. The <code>Condition</code> column has two unique values: FirstGame, and SecondGame, representing <strong>novice users and relative expert users</strong>, respectively, as some students participated in&nbsp;RescuShell after having already completed a different engineering virtual internship.</p>
</div>
</div>
<p>The <code>UserName</code> column includes unique user names for all students (<em>n</em>=48). This way of defining the units means that ENA will construct a network for each student in each condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>unitCols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"UserName"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To verify that the units are correctly specified, lets subset and preview the unique values in the units columns. To do that, we’ll pipe <code>|&gt;</code> the data frame <code>rescushell_data</code>, <code>select</code> only the columns whose names are stored in the character vector <code>unitCols</code> using <code>all_of()</code>, which ensures those names are treated literally and throws an error if any are missing, and then use the <code>distinct()</code> function to drop any duplicate rows across those selected columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>rescushell_data <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(unitCols)) <span class="sc">|&gt;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>There should 48 units from two conditions, which means that the ENA model will produce 48 individual-level networks for each of the units, and each unit is uniquely associated with either the novice group (<code>FirstGame</code>) or the relative expert group (<code>SecondGame</code>).</p>
</section>
<section id="specify-codes" class="level4">
<h4 class="anchored" data-anchor-id="specify-codes">Specify Codes</h4>
<p>Next, let’s specify the columns that contain the <strong><em>codes</em></strong>. Codes are ressearcher defined concepts whose pattern of association we want to model for each “unit.”</p>
<p>ENA represent codes as nodes in the networks and co-occurrences of codes as edges. Most researchers use binary coding in ENA analyses, where the values in the code columns are either 0 (indicating that the code is not present in that line) or 1 (indicating that the code is present in that line). <code>rescushell_data</code> contains six code columns, all of which will be used here.</p>
<p>To specify the code columns, enter the code column names in a vector.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>codeCols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'Data'</span>, <span class="st">'Technical.Constraints'</span>, <span class="st">'Performance.Parameters'</span>, <span class="st">'Client.and.Consultant.Requests'</span>, <span class="st">'Design.Reasoning'</span>, <span class="st">'Collaboration'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-2" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-2"><strong>👉 Your Turn ⤵</strong></h4>
<p>Use the code chunk below to verify that the codes are correctly specified, by using the <code>select()</code> and <code>all_of()</code> functions again.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Your code should return a tibble containing only the six columns you listed in <code>codeCols</code> vector (in exactly that order) and all 3,824 rows from <code>rescushell_data</code>. In other words, you’ll see a preview of the data frame with just the columns:</p>
<ul>
<li><p>Data</p></li>
<li><p>Technical.Constraints</p></li>
<li><p>Performance.Parameters</p></li>
<li><p>Client.and.Consultant.Requests</p></li>
<li><p>Design.Reasoning</p></li>
<li><p>Collaboration.</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Note:</strong> If every name in <code>codeCols</code> matches a column in <code>rescushell_data</code>, you’ll get a normal tibble output; <strong><em>if any name is misspelled or doesn’t exist, select(all_of()) will throw an error</em></strong>, alerting you to fix the typo before proceeding.</p>
</div>
</div>
</section>
<section id="specify-conversations" class="level4">
<h4 class="anchored" data-anchor-id="specify-conversations">Specify Conversations</h4>
<p>The <strong><em>conversation</em></strong> parameter determines which lines in the data <em>can</em> be connected. Codes in lines that are not in the same conversation cannot be connected. For example, you may want to model connections within different time segments, such as days, or different steps in a process, such as activities.</p>
<p>For this case study, we’ll choose the <code>Condition</code>, <code>GroupName</code>, and <code>ActivityNumber</code> columns to define the “conversations.” These choices indicate that connections can only happen between students who were in the same condition (<code>FirstGame</code> or&nbsp;<code>SecondGame</code>) and on the same project team (group), and within the same activity. This definition of conversation reflects what actually happened in the simulation: in a given condition, students only interacted with those who were in the same group, and each activity occurred on a different day.</p>
</section>
<section id="your-turn-3" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-3"><strong>👉 Your Turn ⤵</strong></h4>
<p>Similar to how we specified <strong>units</strong> and <strong>codes</strong> above, use the code chunk below to create a character vector that specifies the <strong>conversation</strong> parameter using the <code>Condition</code>, <code>GroupName</code>, and <code>ActivityNumber</code> columns, and then verify that the conversations are correctly specified by subset and preview the unique values in the conversation columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, your code should return a tibble containing only the thre columns you listed in <code>conversationCols</code> vector (in exactly that order) and all 3,824 rows from <code>rescushell_data</code>.</p>
</section>
<section id="specify-the-window" class="level4">
<h4 class="anchored" data-anchor-id="specify-the-window">Specify the Window</h4>
<p>Once the conversation parameter is specified, a <strong><em>window</em></strong> method needs to be specified. Whereas the conversation parameter specifies which lines <em>can be</em> related, the window parameter determines which lines within the same conversation <em>are</em> related. The most common window method used in ENA is called a moving stanza window, which is what will be used here.</p>
<p>Briefly, a <strong><em>moving stanza window</em></strong> is a sliding window of fixed length that moves through a conversation to detect and accumulate code co-occurrences in recent temporal context. The lines within a designated stanza window are considered related to each other. For instance, if the moving stanza window is 7, then each line in the conversation is linked to the six preceding lines.</p>
<p>Here, set the window.size.back parameter equal to 7. User can specify a different moving stanza window size by passing a different numerical value to the&nbsp;<code>window.size.back</code>&nbsp;parameter.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>window.size.back <span class="ot">=</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The ENA package also enables use of an <strong>infinite stanza window</strong>, which assumes that lines in any part of a conversation are related. The infinite stanza window works the same way as a moving stanza window, but there is no limit on the number of previous lines that are included in the window besides the conversation itself.</p>
<p>The infinite stanza window is less commonly used in ENA, but is specified as follows:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>window.size.back <span class="ot">=</span> <span class="st">"INF"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="specify-groups-and-rotation-method" class="level4">
<h4 class="anchored" data-anchor-id="specify-groups-and-rotation-method">Specify Groups and Rotation method</h4>
<p>When specifying the units, we chose a column that indicates two conditions: <code>FirstGame</code>&nbsp;(novice group) and <code>SecondGame</code>&nbsp;(relative expert group).</p>
<p>To enable comparison of students in these two conditions, three additional parameters need to be specified:&nbsp;<code>groupVar</code>,&nbsp;<code>groups</code>, and&nbsp;<code>mean</code> like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>groupVar <span class="ot">&lt;-</span> <span class="st">"Condition"</span> <span class="co"># "Condition" is the column used as our grouping variable </span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>groups <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"FirstGame"</span>, <span class="st">"SecondGame"</span>) <span class="co"># "FirstGame" and "SecondGame" are the two unique values of the "Condition" column</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>mean <span class="ot">=</span> <span class="cn">TRUE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These three parameters indicate that when building the ENA model, the first dimension will maximize the difference between the two conditions:&nbsp;<code>FirstGame</code>&nbsp;and&nbsp;<code>SecondGame.</code>&nbsp;This difference maximization is achieved through&nbsp;<code>mean = TRUE</code>, which specifies that a&nbsp;<em>means rotation</em> will be performed at the dimensional reduction stage. If the means rotation is set to FALSE or there aren’t two distinct groups in your data, ENA will by default use singular value decomposition (SVD) to perform the dimensional reduction.</p>
</section>
<section id="specify-metadata" class="level4">
<h4 class="anchored" data-anchor-id="specify-metadata">Specify Metadata</h4>
<p>Finally, the last parameter to be specified is <strong>metadata</strong>. Metadata columns are not required to construct an ENA model, but they provide information that can be used to subset units in the resulting model.</p>
<p>Run the code chunk below to specify the metadata columns to include data on student outcomes related to reported self-confidence before and after participating in engineering virtual internships.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>metaCols <span class="ot">=</span> <span class="fu">c</span>(<span class="st">"CONFIDENCE.Change"</span>,<span class="st">"CONFIDENCE.Pre"</span>,<span class="st">"CONFIDENCE.Post"</span>,<span class="st">"C.Change"</span>) <span class="co"># optional</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will use this data later to demonstrate a simple linear regression analysis that can be done using ENA outputs as predictors.</p>
</section>
</section>
<section id="c.-construct-an-ena-model" class="level3">
<h3 class="anchored" data-anchor-id="c.-construct-an-ena-model">2c. Construct an ENA Model</h3>
<p>Now that all the essential parameters have been specified, the ENA model can be constructed.</p>
<p>To build an ENA model, we need two functions&nbsp;<code>ena.accumulate.data</code>&nbsp;and&nbsp;<code>ena.make.set</code>, and we recommend that you store the output in an object (in this case, <strong><code>set.ena</code></strong>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>accum.ena <span class="ot">&lt;-</span> </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ena.accumulate.data</span>(</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">text_data =</span> rescushell_data[, <span class="st">'text'</span>],</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">units =</span> rescushell_data[,unitCols],</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">conversation =</span> rescushell_data[,conversationCols],</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">metadata =</span> rescushell_data[,metaCols], <span class="co"># optional</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">codes =</span> rescushell_data[,codeCols],</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">window.size.back =</span> <span class="dv">7</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>set.ena <span class="ot">=</span> </span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ena.make.set</span>(</span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">enadata =</span> accum.ena, <span class="co"># the accumulation run above</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">rotation.by =</span> ena.rotate.by.mean, <span class="co"># equivalent of mean=TRUE in the ena function</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">rotation.params =</span> <span class="fu">list</span>(</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>      accum.ena<span class="sc">$</span>meta.data<span class="sc">$</span>Condition<span class="sc">==</span><span class="st">"FirstGame"</span>, <span class="co"># equivalent of groups in the ena function</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>      accum.ena<span class="sc">$</span>meta.data<span class="sc">$</span>Condition<span class="sc">==</span><span class="st">"SecondGame"</span> <span class="co"># equivalent of groups in the ena function</span></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This combined visual and numeric approach enables a comprehensive understanding of discourse patterns within our ENA framework.</p>
<p>Now that we have constructed an ENA Model object, we can begin to descriptively explore through visual and numerical summaries the data stored in the <code>set.ena</code> model.</p>
<p>First, let’s use the <code>names()</code> function to first determine what types of items and data are stored in the <code>set.ena</code> model:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(set.ena)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s explore some of these items that are of most interest!</p>
</section>
</section>
<section id="explore" class="level2">
<h2 class="anchored" data-anchor-id="explore">3. EXPLORE</h2>
<p>In Section 3, we delve into descriptive exploration of our ENA model, visually and numerically summarizing the interactions in our data set. Specifically, we’ll investigate two primary methods for understanding and interpreting ENA model outputs:</p>
<ol type="a">
<li><p><strong>Visual Summaries</strong>. We start by using visualization functions from the {rENA} package to illustrate networks of connections. We’ll plot mean networks for different participant conditions, visualize subtracted networks to pinpoint differences between groups, and interpret how the strengths and patterns of connections differ visually across conditions.</p></li>
<li><p><strong>Numerical Summaries</strong>. Next, we shift from visualizations to numerical summaries, examining key quantitative aspects of the ENA outputs. We’ll explore summary statistics like connection counts, normalized line weights (relative connection frequencies), and ENA points representing individual or group epistemic network positions, allowing us to understand the underlying numeric properties that drive the visualizations.</p></li>
</ol>
<section id="a.-visual-summary-of-key-model-outputs" class="level3">
<h3 class="anchored" data-anchor-id="a.-visual-summary-of-key-model-outputs">3a. Visual Summary of Key Model Outputs</h3>
<p>Once an ENA set is constructed, it can be visualized as a network graph, which helps to facilitates interpretation of the model. Here, we will look at the two conditions,&nbsp;<code>FirstGame</code>&nbsp;(novices) and&nbsp;<code>SecondGame</code>&nbsp;(relative experts), by plotting their mean networks.</p>
<section id="plot-a-mean-network" class="level4">
<h4 class="anchored" data-anchor-id="plot-a-mean-network">Plot a Mean Network</h4>
<p>To plot a network, use the&nbsp;<code>ena.plot.network</code> function. This function requires the <code>network</code>parameter (a character vector of line weights), and the line weights come from <code>set$line.weights</code>.</p>
<p>First, run the following code to subset line weights for each of the two groups:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset lineweights for `FirstGame`</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>first.game.lineweights <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>line.weights<span class="sc">$</span>Condition<span class="sc">$</span>FirstGame)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset lineweights for `SecondGame`</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>second.game.lineweights <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>line.weights<span class="sc">$</span>Condition<span class="sc">$</span>SecondGame)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These two‑lines of code out the “line weight” adjacency matrices for each game condition from your ENA results and ensures they’re stored as plain numeric matrices:</p>
<ul>
<li><p><strong><code>set.ena$line.weights</code></strong> is a nested list generated by the <code>ena.make.set()</code> that contains connection‑strength data between codes in our data.</p></li>
<li><p><strong><code>$Condition$FirstGame</code></strong> (and similarly <code>$Condition$SecondGame</code>) selects the sub‑element corresponding to that experimental condition.</p></li>
<li><p>Wrapping it in <strong>as.matrix()</strong> converts whatever internal class ENA uses into a standard numeric matrix for graphing.</p></li>
</ul>
<p>Each resulting matrix has our qualitative codes as both row and column names, and each cell value represents the strength (weight) of the co‑occurrence (i.e., the “line weight”) between that pair of codes for the given condition. You can now easily inspect dimensions (dim()), view row/column names (rownames(), colnames()), or feed these matrices into plotting or further network analyses.</p>
<p>Next, run the following code to calculate the mean networks for the two groups, and store the line weights as vectors:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>first.game.mean <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">colMeans</span>(first.game.lineweights))</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>second.game.mean <span class="ot">&lt;-</span> <span class="fu">as.vector</span>(<span class="fu">colMeans</span>(second.game.lineweights))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>These two lines compute each code’s average connection strength (i.e.&nbsp;the mean of its column in the line‑weight matrix) for each condition and store the results as plain numeric vectors:</p>
<ul>
<li><p><code>colMeans(first.game.lineweights)</code> calculates the mean of every column in the first.game.lineweights matrix, producing a named numeric vector where each element is that code’s average co‑occurrence weight.</p></li>
<li><p>Wrapping it in <code>as.vector()</code> strips off the names, leaving just a simple numeric vector, which is then assigned to first.game.mean.</p></li>
</ul>
<p>The second line does exactly the same thing for <code>second.game.lineweights</code>, yielding <code>second.game.mean</code>. Each element in these vectors tells you how strongly, on average, a given code connects to all other codes in FirstGame versus SecondGame.</p>
<p>Finally, we can now produces an ENA network visualization showing each code’s average connection strength for the <code>FirstGame</code> condition, by</p>
<ol type="1">
<li>Using the <code>ena.plot(set.ena)</code> to initializes a default ENA network plot from our <code>set.ena</code> object.</li>
<li>Using the <code>|&gt;</code> pipe operator to send the output to the <code>ena.plot.network(network = first.game.mean, colors = c("red"))</code> which will pipe the base plot into <code>ena.plot.network()</code>, which overlays a network whose edge (and node) thickness reflects the values in your numeric vector <code>first.game.mean</code></li>
</ol>
<p>To distinguish the two mean networks, let’s set the color of the&nbsp;<code>FirstGame</code>&nbsp;mean network to red.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"FirstGame mean plot"</span>)  <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ena.plot.network</span>(<span class="at">network =</span> first.game.mean, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The final output is a single network graph in which each code’s mean co‑occurrence strength (from <code>FirstGame</code>) is visually encoded by line thickness (and node size), with red lines indicating the magnitude of those average connections.</p>
</section>
<section id="your-turn-4" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-4"><strong>👉 Your Turn ⤵</strong></h4>
<p>Create an epistemic network for the&nbsp;<code>SecondGame</code> and set the color of of the network lines to blue.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>As you can see from the two network visualizations above, their node positions are exactly same. All ENA networks from the same model have the same node positions, which are determined by an optimization routine that attempts to place the nodes such that the centroid of each unit’s network and the location of the ENA point in the reduced space are co-located.</p>
<p>Because of the fixed node positions, ENA can construct a subtracted network, which enables the identification of the most salient differences between two networks. To do this, ENA subtracts the weight of each connection in one network from the corresponding weighted connection in another network, then visualizes the differences in connection strengths. Each edge is color-coded to indicate which of the two networks contains the stronger connection, and the thickness and saturation of the edges corresponds to the magnitude of the difference.</p>
<p>Now let’s plot a subtracted network, which combines the two graphs and helps to highlight where they differ.</p>
<p>First we need to calculate the subtracted network line weights by subtracting one group’s line weights from the other. (Because ENA computes the absolute values of the differences in edge weights, the order of the two networks in the subtraction doesn’t matter.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>subtracted.mean <span class="ot">&lt;-</span> first.game.mean <span class="sc">-</span> second.game.mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then we’ll use the&nbsp;<code>ena.plot</code>&nbsp;function again to plot the subtracted network. If the differences are relatively small, a multiplier can be applied to rescale the line weights, improving legibility.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"Subtracted: `FirstGame` (red) - `SecondGame` (blue)"</span>)  <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ena.plot.network</span>(<span class="at">network =</span> subtracted.mean <span class="sc">*</span> <span class="dv">5</span>, <span class="co"># Optional rescaling of the line weights</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, the subtracted network shows that on average, students in the&nbsp;<code>FirstGame</code>&nbsp;condition (red) made more connections with&nbsp;<code>Technical.Constraints</code>&nbsp;and&nbsp;<code>Collaboration</code>&nbsp;than students in the&nbsp;<code>SecondGame</code>&nbsp;condition (blue), while students in the&nbsp;<code>SecondGame</code>&nbsp;condition made more connections with <code>Design.Reasoning</code> and <code>Performance.Parameters</code> than students in the&nbsp;<code>FirstGame</code>&nbsp;condition. This is because students with more experience of engineering design practices did not need to spend as much time and effort managing the collaborative process and learning about the basic technical elements of the problem space, and instead spent relatively more time focusing on more complex analysis and design reasoning tasks.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Note:</strong> This subtracted network shows no connection between <code>Technical.Constraints</code> and <code>Design.Reasoning</code>, simply because the strength of this connection was similar in both conditions. Thus, subtraction networks should always be visualized along with with the two networks being subtracted.</p>
</div>
</div>
<p>And instead subtracting to highlight the differences between groups, we could also simply plot all nodes and edges on the same graph to illustrate the most frequent codes and their connections for all participants in the study.</p>
<p>To do so, we simply pipe two calls to <code>ena.plot.network()</code> onto a single base plot like so:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"All Participants"</span>) <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ena.plot.network</span>(<span class="at">network =</span> first.game.mean)   <span class="sc">|&gt;</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ena.plot.network</span>(<span class="at">network =</span> second.game.mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="questions" class="level4">
<h4 class="anchored" data-anchor-id="questions">❓Questions</h4>
<p>Use the graphs above to answer the following questions and aid in their interpretation:</p>
<ol type="1">
<li><p><strong>Overall Density</strong>: How does the overall thickness and number of lines differ between the two conditions? What might an increase (or decrease) in network density from FirstGame to SecondGame tell us about how students’ conceptual connections evolved?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li><p><strong>Key Hubs</strong>: Which code appears as the strongest “hub” (i.e., connected to more codes)? Did the centrality of that code change between FirstGame and SecondGame? What might that suggest</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li><p><strong>Emerging Connections</strong>: Are there any code‑pair links that are very faint (or absent) in FirstGame but noticeably stronger in SecondGame? What might this reflect?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li><p><strong>Peripheral Codes</strong>: How does the position and edge thickness of the “Collaboration” node change between conditions? What might its relative isolation (or growth) indicate about the role of collaboration in each game?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li><p><strong>Interpretive Meaning</strong>: How might you explain the educational significance of a thicker edge versus a thinner edge in these plots, and larger plot points and smaller plot points?</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
</ol>
</section>
<section id="plot-a-mean-network-and-its-points" class="level4">
<h4 class="anchored" data-anchor-id="plot-a-mean-network-and-its-points">Plot a mean network and its points</h4>
<p>The ENA point or points associated with a network or mean network can also be visualized. Recall from our readings that each individual epistemic network frame can be collapsed to a single point on our graph.</p>
<p>To visualize the points associated with each of the mean networks plotted above, use&nbsp;<code>set$points</code>to subset the rows that are in each condition and plot each condition as a different color.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset rotated points for the first condition</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>first.game.points <span class="ot">=</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>FirstGame)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Subset rotated points for the second condition</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>second.game.points <span class="ot">=</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>SecondGame)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, plot the&nbsp;<code>FirstGame</code>&nbsp;mean network the same as above using&nbsp;<code>ena.plot.network</code>, use&nbsp;<code>|&gt;</code>&nbsp;to pipe in the&nbsp;<code>FirstGame</code>&nbsp;points that we want to include, and plot them using&nbsp;<code>ena.plot.points</code>.</p>
<p>Each point in the space is the ENA point for a given unit. The red and blue squares on the x-axis are the means of the ENA points for each condition, along with the 95% confidence interval on each dimension (you might need to zoom in for better readability)</p>
<p>Since we used a means rotation to construct the ENA model, the resulting space highlights the differences between&nbsp;<code>FirstGame</code>&nbsp;and&nbsp;<code>SecondGame</code>&nbsp;by constructing a rotation that places the means of each condition as close as possible to the x-axis of the space and maximizes the differences between them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">" points (dots), mean point (square), and confidence interval (box)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> first.game.points, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.group</span>(<span class="at">point =</span> first.game.points, <span class="at">colors =</span><span class="fu">c</span>(<span class="st">"red"</span>), </span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>                         <span class="at">confidence.interval =</span> <span class="st">"box"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s overlay the mean graph over these points:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"FirstGame mean network and its points"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.network</span>(<span class="at">network =</span> first.game.mean, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> first.game.points, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.group</span>(<span class="at">point =</span> first.game.points, <span class="at">colors =</span><span class="fu">c</span>(<span class="st">"red"</span>), </span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>                         <span class="at">confidence.interval =</span> <span class="st">"box"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-5" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-5"><strong>👉 Your Turn ⤵</strong></h4>
<p>Now do the same for the&nbsp;<code>SecondGame</code>&nbsp;condition.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Finally, let’s do the same for subtraction as well:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"Subtracted mean network: `FirstGame` (red) - `SecondGame` (blue)"</span>)  <span class="sc">|&gt;</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.network</span>(<span class="at">network =</span> subtracted.mean <span class="sc">*</span> <span class="dv">5</span>,</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> first.game.points, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.group</span>(<span class="at">point =</span> first.game.points, <span class="at">colors =</span><span class="fu">c</span>(<span class="st">"red"</span>), </span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">confidence.interval =</span> <span class="st">"box"</span>) <span class="sc">|&gt;</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> second.game.points, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"blue"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb27-8"><a href="#cb27-8" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.group</span>(<span class="at">point =</span> second.game.points, <span class="at">colors =</span><span class="fu">c</span>(<span class="st">"blue"</span>), </span>
<span id="cb27-9"><a href="#cb27-9" aria-hidden="true" tabindex="-1"></a>                         <span class="at">confidence.interval =</span> <span class="st">"box"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Note that the majority of the red points (<code>FirstGame</code>) are located on the left side of the space, and the blue points (<code>SecondGame</code>) are mostly located on the right side of the space. This is consistent with the line weights distribution in the mean network: the&nbsp;<code>FirstGame</code>&nbsp;units make relatively more connections with nodes on the left side of the space, while the&nbsp;<code>SecondGame</code>&nbsp;units make relatively more connections with nodes on the right side of the space. The positions of the nodes enable interpretation of the dimensions, and thus interpretation of the locations of the ENA points.</p>
</section>
<section id="plot-an-individual-unit-network-and-its-point" class="level4">
<h4 class="anchored" data-anchor-id="plot-an-individual-unit-network-and-its-point">Plot an individual unit network and its point</h4>
<p>Plotting the network and ENA point for a single unit uses the same approach. First, subset the line weights and point for a given unit:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>unit.A.line.weights <span class="ot">=</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>line.weights<span class="sc">$</span>ENA_UNIT<span class="sc">$</span><span class="st">`</span><span class="at">FirstGame.steven z</span><span class="st">`</span>) <span class="co"># subset line weights</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>unit.A.point <span class="ot">=</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>ENA_UNIT<span class="sc">$</span><span class="st">`</span><span class="at">FirstGame.steven z</span><span class="st">`</span>) <span class="co"># subset ENA point</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Then, plot the network and point for that unit.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"Individual network: `FirstGame`.steven z"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.network</span>(<span class="at">network =</span> unit.A.line.weights, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> unit.A.point, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="your-turn-6" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-6"><strong>👉 Your Turn ⤵</strong></h4>
<p>Follow the exact same procedure to choose a unit from the other condition to plot and also construct a subtracted plot for those two units.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>To visually analyze the differences between the two individual networks, we can also plot their subtracted network.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"Subtracted network: `FirstGame`.steven z (red) - `SecondGame`.samuel o (blue)"</span>)  <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.network</span>(<span class="at">network =</span> (unit.A.line.weights <span class="sc">-</span> unit.B.line.weights) <span class="sc">*</span> <span class="dv">5</span>,</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>, <span class="st">"blue"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> unit.A.point, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"red"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> unit.B.point, <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In this unit-level subtracted network, Unit A (red) made relatively more connections with codes such as&nbsp;<code>Technical.Constraints</code>,&nbsp;<code>Data</code>, and&nbsp;<code>Collaboration</code>, while Unit B (blue) made relatively more connections with&nbsp;<code>Design.Reasoning</code>&nbsp;and&nbsp;<code>Performance.Parameters</code>.</p>
</section>
<section id="plot-everything-everywhere-all-at-once" class="level4">
<h4 class="anchored" data-anchor-id="plot-everything-everywhere-all-at-once">Plot everything, everywhere, all at once</h4>
<p>The helper function&nbsp;<code>ena.plotter</code>&nbsp;enables users to plot points, means, and networks for each condition at the same time. This gives the same results as above more effecient. However, this approach does not enable customization of edge and point colors.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co">#with helper function</span></span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span><span class="fu">ena.plotter</span>(set.ena,</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">points =</span> T,</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>            <span class="at">mean =</span> T, </span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">network =</span> T,</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">print.plots =</span> T,</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">groupVar =</span> <span class="st">"Condition"</span>,</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>            <span class="at">groups =</span> <span class="fu">c</span>(<span class="st">"SecondGame"</span>,<span class="st">"FirstGame"</span>),</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>            <span class="at">subtractionMultiplier =</span> <span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(p) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"plotly"</span>, <span class="st">"enaplot"</span>, <span class="st">"html-fill-item-overflow-hidden"</span>, <span class="st">"html-fill-item"</span>, <span class="fu">class</span>(p))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="a.-descriptive-summary-of-key-model-outputs" class="level3">
<h3 class="anchored" data-anchor-id="a.-descriptive-summary-of-key-model-outputs">3a. Descriptive Summary of Key Model Outputs</h3>
<p>We can also explore descriptive summaries of data stored in the <code>set.ena</code> model by simply extracting the summary data using the handy <code>$</code> dollar sign operator.</p>
<section id="connection-counts" class="level4">
<h4 class="anchored" data-anchor-id="connection-counts">Connection counts</h4>
<p>For each unit, in our case individual study participants, ENA creates a cumulative adjacency vector that contains the sums of all unique code co-occurrences for that unit across all stanza windows. These <strong>connection counts</strong> are the frequencies of unique connections a unit made among all possible code pairs.</p>
<p>To access ENA adjacency vectors, let’s use <code>$</code> operator to access <code>connection.counts</code> from our <code>set.ena</code> object:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>set.ena<span class="sc">$</span>connection.counts</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This data table shows summaries of connection counts for the 48 units (i.e., the 48 study participants and whether this was their first or second game) that are stored in the ENA model. Each term, or column in this table, represents a unique co-occurrence of codes.</p>
<p>In the first row, we can see that among <code>steven z</code>’s conversations, the codes <code>Data</code> and <code>Technical.Constraints</code> occurred together 22 times, whereas for <code>brandon l</code>’s conversations, <code>Data</code> and <code>Technical.Constraints</code> occurred together 98 times!</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>The $ Operator</strong>. In R, the <code>$</code> operator is simply a shortcut for “extract the element named … from this object.” So in <code>set.ena$connection.counts</code>, for example, we’re pulling out the component named <code>connection.counts</code> from the <code>set.ena</code> object.</p>
<p>In general, whenever you have a list, data frame, or environment, you can write <code>object$elementName</code> to retrieve the item (e.g., a column, sub‑list, etc.) whose name exactly matches elementName.</p>
</div>
</div>
</section>
<section id="your-turn-7" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-7"><strong>👉 Your Turn ⤵</strong></h4>
<p>We can also take these data summaries a step further by using the <code>skim()</code> function introduced in previous units to get summary statistics for all code pairs collectively.</p>
<p>Use the code chunk below to load the {skimr} library and <code>skim()</code> the <code>set.ena$connection.counts</code> to get a descriptive summary of connection counts for each participant:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="questions-1" class="level4">
<h4 class="anchored" data-anchor-id="questions-1">❓Questions</h4>
<p>Take a closer look at the table output above and answer the following questions:</p>
<ol type="1">
<li>Which code pair has the <strong>highest mean</strong> co‑occurrence count? What is that mean value?
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li>Which code pair has the <strong>lowest mean</strong> co‑occurrence count?
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li>Which code pair reaches the <strong>highest maximum value</strong> (p100)? How many times does that relationship appear in its strongest instance?
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
<li>Name all code pairs whose <strong>minimum (p0) value is zero</strong>. What does a zero minimum indicate about those relationships?
<ul>
<li>YOUR RESPONSE HERE</li>
</ul></li>
</ol>
</section>
<section id="line-weights" class="level4">
<h4 class="anchored" data-anchor-id="line-weights">Line weights</h4>
<p>These raw connection counts can also be rerpresented as <strong>line weights</strong>, or normalized relative frequencies (i.e., decimal values between 0 and 1) of code co-occurrence for each unit by dividing each code‑pair count by the total number of connections for that unit or individuals.</p>
<p>Why normalize? Because some participants might talk a lot (producing high raw counts) while others talk less. By converting counts into proportions, we compare patterns of emphasis (which code pairs are relatively important) instead of comparing raw activity levels.</p>
</section>
<section id="your-turn-8" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-8"><strong>👉 Your Turn ⤵</strong></h4>
<p>Similar to how we extracted the conneciton counts data from our <code>set.ena</code> object above, use the <code>$</code> operator To access the normalized adjacency vectors, use&nbsp;<code>set.ena$line.weights</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># YOUR CODE HERE</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="questions-2" class="level4">
<h4 class="anchored" data-anchor-id="questions-2">❓Questions</h4>
<p>Take a closer look at the table output above and write down two observations that stand out to you:</p>
<ol type="1">
<li>YOUR FIRST OBSERVATION HERE</li>
<li>YOUR SECOND OBSERVATION HERE</li>
</ol>
</section>
<section id="ena-points" class="level4">
<h4 class="anchored" data-anchor-id="ena-points">ENA points</h4>
<p>As the product of a dimensional reduction, for each unit, ENA produces an ENA point in a two-dimensional space. Since there are 48 units, ENA produces 48 ENA points.</p>
<p>By default,&nbsp;<code>rENA</code>visualizes ENA points on an x-y coordinate plane defined by the first two dimensions of the dimensional reduction: for a means rotation, MR1 and SVD2, and for an SVD, SVD1 and SVD2.</p>
<p>To access these points, use&nbsp;<code>set.ena$points</code>&nbsp;.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>set.ena<span class="sc">$</span>points</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>ENA points are summary statistics that researchers can use to conduct statistical tests, and they can also be used in subsequent analyses. For example, statistical differences between groups in the data can be tested using ENA dimension scores, and those scores can also be used in regression analyses to predict outcome variables, which we will demonstrate later.</p>
</section>
</section>
</section>
<section id="model" class="level2">
<h2 class="anchored" data-anchor-id="model">4. MODEL</h2>
<p>Recall that our specific research questions for this case study are:</p>
<ol type="1">
<li>What are the patterns of epistemic connections formed by learners as they collaboratively engage in engineering problem-solving tasks within digital internship environments?</li>
<li>Is there a difference in learners’ epistemic frames based on the condition to which they were assigned?</li>
</ol>
<p>In the previous section, we visually explored learners in our two conditions and created the subtracted network shown below, which seems to suggest that the epistemic frames of students in the two conditions seem to differ from each other.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/subtracted-plot.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:100.0%"></p>
</figure>
</div>
<p>In this section…</p>
<section id="a.-compare-groups-statistically" class="level3">
<h3 class="anchored" data-anchor-id="a.-compare-groups-statistically">4a. Compare Groups Statistically</h3>
<p>In addition to visual comparison of networks, ENA points can be analyzed statistically. For example, here we will test whether the patterns of association (e.g., connections between our qualitatively coded data) in one condition are significantly different from those in the other condition.</p>
<p>To demonstrate both parametric and non-parametric approaches to this question, the examples below use a Student’s&nbsp;<em>t</em>&nbsp;test and a Mann-Whitney&nbsp;<em>U</em>&nbsp;test to test for differences between the <code>FirstGame</code> and <code>SecondGame</code>&nbsp;condition.</p>
<section id="load-the-lsr-package" class="level4">
<h4 class="anchored" data-anchor-id="load-the-lsr-package">Load the lsr Package</h4>
<p>First, we need to load the {lsr} package to enable calculation of effect size (Cohen’s <em>d</em>) for the <em>t</em> test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lsr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The {lsr} package (“<strong>Learning Statistics with R</strong>”) is a CRAN‑hosted toolbox created to support teaching and learning introductory statistics in R (it accompanies Danielle Navarro’s excellent textbook <a href="https://learningstatisticswithr.com">Learning Statistics with R)</a>. It provides easy‑to‑use wrappers for common descriptive and inferential tasks—so you can run t‑tests, ANOVAs, compute Cohen’s d, confidence intervals, contingency tables, and simulate sampling distributions with just one function call (e.g.&nbsp;ttest(), anova(), cohen.d(), bootstrapCI()).</p>
</section>
<section id="extract-ena-points" class="level4">
<h4 class="anchored" data-anchor-id="extract-ena-points">Extract ENA Points</h4>
<p>ENA represents each discussion unit as a point in a 2‑D space summarizing its overall network structure.</p>
<p>We’ll need to extract these coordinates, so we can run independent‑samples t‑tests comparing mean x‑positions (Dimension 1) and mean y‑positions (Dimension 2) between FirstGame vs.&nbsp;SecondGame.</p>
<p>Run the following code to subset the mean x‑positions (Dimension 1) and mean y‑positions (Dimension 2) for each unit based on their conditions.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>ena_first_points_d1 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>FirstGame)[,<span class="dv">1</span>]</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>ena_second_points_d1 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>SecondGame)[,<span class="dv">1</span>]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>ena_first_points_d2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>FirstGame)[,<span class="dv">2</span>]</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>ena_second_points_d2 <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>Condition<span class="sc">$</span>SecondGame)[,<span class="dv">2</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Again, these four lines of code are simply pulling out the 2‑dimensional ENA coordinate scores (i.e., “points”) for each condition so we can statistically compare them.</p>
</section>
<section id="conduct-t-test" class="level4">
<h4 class="anchored" data-anchor-id="conduct-t-test">Conduct <em>t</em> test</h4>
<p>Now that we have extracted these points, we can run a basic t‑tests to quantify whether the average network structure differs meaningfully between participants in the FirstGame and SecondGame conditions.</p>
<p>Run the following code to conduct the <em>t</em> test on the first and second dimensions that we extract for each group:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>t_test_d1 <span class="ot">&lt;-</span> <span class="fu">t.test</span>(ena_first_points_d1, ena_second_points_d1)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>t_test_d1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A two-sample <em>t</em> test assuming unequal variance shows that the&nbsp;<code>FirstGame</code> (mean = -0.09, SD = 0.11, N = 26) condition is <strong>statistically significantly</strong> along the <em>x</em> axis, different for alpha=0.05 from the&nbsp;<code>SecondGame</code>&nbsp;condition (mean = 0.11, SD = 0.10, N=22; t(45.31) = -6.52,&nbsp;<em>p</em> = 0.00, Cohen’s <em>d</em>=1.88).</p>
<p>However, the <em>t</em> test shows that the <code>FirstGame</code> condition (mean=0.11, SD=0.13, N=26) <strong>is not statistically significantly along the <em>y</em> axis</strong>, different for alpha=0.05 from the&nbsp;<code>SecondGame</code>&nbsp;condition (mean=0.00, SD=1.3, N=22; t(43.17)=0,&nbsp;<em>p</em>=1.00).</p>
<p>These findings are consistent with our visual summary and suggest that learners’ networks shifted significantly along ENA’s principal semantic axis (captured by Dimension 1), consistent with the thicker, stronger connections seen in the SecondGame network plot for Design.Reasoning &amp; Performance.Parameters, while the secondary pattern of co‑occurrences (Dimension 2) along the y axis stayed stable, e.g., those connections that were “subtracted” because they were similar across both conditions.</p>
</section>
<section id="conduct-non-parametric-test" class="level4">
<h4 class="anchored" data-anchor-id="conduct-non-parametric-test">Conduct non-parametric test</h4>
<p>The Mann-Whitney&nbsp;<em>U</em>&nbsp;test is a non-parametric alternative to the independent two-sample&nbsp;<em>t</em>&nbsp;test. This test is valuable anytime your two groups violate one or more t‑test assumptions, most commonly non‑normality, unequal variances, or when your outcome is only measured on an ordinal scale.</p>
<p>First, let’s load the <code>rcompanion</code> package that we’ll use to calculate the effect size (<em>r</em>) for a Mann-Whitney&nbsp;<em>U</em>&nbsp;test.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rcompanion)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The rcompanion package is a collection of utility functions designed to make common statistical tasks in R easier, especially descriptive summaries, assumption checks, nonparametric tests, and effect‑size calculations. Originally built to accompany the textbook <a href="https://www.john-fox.ca/Companion/">A Companion to Applied Regression</a>, it’s now widely used for general data exploration and reporting.</p>
<p>Run the following code to conduct a Mann-Whitney&nbsp;<em>U</em>&nbsp;test on the first and second dimensions and print:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># non parametric tests</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>w_test_d1 <span class="ot">&lt;-</span> <span class="fu">wilcox.test</span>(ena_first_points_d1, ena_second_points_d1)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>w_test_d2 <span class="ot">&lt;-</span> <span class="fu">wilcox.test</span>(ena_first_points_d2, ena_second_points_d2)</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>w_test_d1</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>w_test_d2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here we see that a Mann-Whitney&nbsp;<em>U</em>&nbsp;test shows that the&nbsp;<code>FirstGame</code>&nbsp;condition (Mdn = -0.08, N = 26) was <strong>statistically significantly different along the <em>x</em> axis</strong>, for alpha=0.05 from the&nbsp;<code>SecondGame</code>condition (Mdn=-0.007, N=22;&nbsp;<em>U</em>=50,&nbsp;<em>p</em>=0.00,&nbsp;<em>r</em>=0.86).</p>
<p>It also shows that the&nbsp;<code>FirstGame</code>&nbsp;condition (Mdn=0.13, N=26) is <strong><em>not</em></strong> <strong>statistically significantly different along the&nbsp;<em>y</em>&nbsp;axis</strong> (SVD2), for alpha=0.05 from the&nbsp;<code>SecondGame</code>&nbsp;condition (Mdn=0.00, N=22; U=287,&nbsp;<em>p</em>=0.99). The absolute value of&nbsp;<code>r</code>&nbsp;value in Mann-Whitney U test varies from 0 to close to 1.</p>
<p>Again, these findings are consistent with our visual summary as well as our previous <em>t</em> test and provide strong evidence that that learners’ networks differed significantly along ENA’s x-axis but not along the y axis.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="fu">wilcoxonR</span>(ena_first_points_d1, ena_second_points_d1))</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a><span class="fu">abs</span>(<span class="fu">wilcoxonR</span>(ena_first_points_d2, ena_second_points_d2))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The interpretation values for r commonly in published literature is:&nbsp;<code>0.10 - &lt; 0.3</code>&nbsp;(small effect),&nbsp;<code>0.30 - &lt; 0.5</code>&nbsp;(moderate effect) and&nbsp;<code>&gt;= 0.5</code>&nbsp;(large effect).</p>
<p>Collectively, these findings suggest that prior participation in the virtual internship produced a large, measurable shift in students’ core engineering‑design thinking (as captured by ENA’s first semantic dimension).</p>
</section>
</section>
<section id="b.-model-evaluation" class="level3">
<h3 class="anchored" data-anchor-id="b.-model-evaluation">4b. Model evaluation</h3>
<p>In this section, we introduce three ways users can evaluate the quality of their ENA models.</p>
<section id="variance-explained" class="level4">
<h4 class="anchored" data-anchor-id="variance-explained">Variance explained</h4>
<p>Briefly, variance explained (also called explained variation) refers to the proportion of the total variance in a dataset that is accounted for by a statistical model or set of predictors.</p>
<p>In ENA, to represent high-dimensional vectors in a two-dimensional space, ENA uses either singular value decomposition or means rotation combined with SVD. For each of the reduced dimensions, the variance in patterns of association among units explained by that dimension can be computed.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>set.ena<span class="sc">$</span>model<span class="sc">$</span>variance</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Here, the first dimension is MR1 and the second dimension is SVD2. The MR1 dimension has the highest variance explained at 32%.</p>
<p>As with any statstical model, greater explained variance does not necessarily indicate a better model, as it may be due to overfitting, but it provides one indicator of model quality.</p>
</section>
<section id="goodness-of-fit" class="level4">
<h4 class="anchored" data-anchor-id="goodness-of-fit">Goodness of fit</h4>
<p>Briefly, a model’s goodness of fit refers to how well a model fits or represents the data. A model with a high goodness of fit indicates that it accurately represents the data and can make reliable predictions.</p>
<p>In ENA, a good fit means that the positions of the nodes in the space—and thus the network visualizations—are consistent with the mathematical properties of the model. In other words, we can confidently rely on the network visualizations to interpret the ENA model. The process that ENA uses to achieve high goodness of fit is called co-registration. The mathematical details of co-registration are beyond the scope of this chapter and can be found in Bowman et al., (2022).</p>
<p>To test a model’s goodness of fit, we use&nbsp;<code>ena.correlations</code>. The closer the value is to 1, the higher the model’s goodness of fit is. Most ENA models have a goodness of fit that is well above 0.90.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.correlations</span>(set.ena)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The two rows of output from  <code>ena.correlations(set.ena)</code>&nbsp;report how strongly the FirstGame and SecondGame networks mirror each other along ENA’s two semantic dimensions using both&nbsp;<strong>Pearson (linear) and Spearman (rank‑order) correlations</strong>.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Dimension</th>
<th>Pearson r</th>
<th>Spearman ρ</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>0.9938</td>
<td>0.9941</td>
</tr>
<tr class="even">
<td>2</td>
<td>0.9850</td>
<td>0.9851</td>
</tr>
</tbody>
</table>
<p>Dimension 1 shows extremely high similarity in the pattern of code co‑occurrence weights along ENA’s primary x-axis. Although the mean positions shifted (we saw a significant t‑test difference), the relative ordering and proportional strengths of all connections stayed nearly identical.</p>
<p>We also see equally very high correspondence on ENA’s secondary axis, indicating the same stable pattern of peripheral connections between codes across both conditions.</p>
<p>Because all correlation metrics are &gt; 0.98 for both dimensions, we conclude that&nbsp;<strong>the overall structure of how codes co‑occur remained virtually unchanged</strong> from FirstGame to SecondGame—even as the entire network “moved” along the primary dimension, suggesting the model is a good fit to the data.</p>
</section>
<section id="close-the-interpretative-loop" class="level4">
<h4 class="anchored" data-anchor-id="close-the-interpretative-loop">Close the interpretative loop</h4>
<p>Another approach to evaluate an ENA model is to confirm the alignment between quantitative model (in our case, our ENA model) and the original qualitative data. In other words, we can return to the original data to confirm that quantitative findings give a fair representation of the data. This approach is an example of what’s called as “closing the interpretative loop” in Quantitative Ethnography field <span class="citation" data-cites="shaffer2017quantitative">(<a href="#ref-shaffer2017quantitative" role="doc-biblioref">D. W. Shaffer 2017</a>)</span>.</p>
<p>For example, based on our visual analysis of the network of&nbsp;<code>SecondGame.samuel o</code>&nbsp;in previous section, we are interested in what the lines are in the original data that contributed to the connection between&nbsp;<code>Design.Reasoning</code>&nbsp;and&nbsp;<code>Performance.Parameters</code>.</p>
<p>Let’s first review what&nbsp;<code>SecondGame.samuel o</code>&nbsp;ENA network looks like.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ena.plot</span>(set.ena, <span class="at">title =</span> <span class="st">"Individual network: `SecondGame`.samuel o"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.network</span>(<span class="at">network =</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>line.weights<span class="sc">$</span>ENA_UNIT<span class="sc">$</span><span class="st">`</span><span class="at">SecondGame.samuel o</span><span class="st">`</span>), <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"blue"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>          <span class="fu">ena.plot.points</span>(<span class="at">points =</span> <span class="fu">as.matrix</span>(set.ena<span class="sc">$</span>points<span class="sc">$</span>ENA_UNIT<span class="sc">$</span><span class="st">`</span><span class="at">SecondGame.samuel o</span><span class="st">`</span>), <span class="at">colors =</span> <span class="fu">c</span>(<span class="st">"blue"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<pre><code></code></pre>
<p>To do so, we use&nbsp;<code>view()</code>&nbsp;function and specify required parameters as below.</p>
<p>This is going to activate a window shows up in your&nbsp;<code>Viewer</code>&nbsp;panel. If it is too small to read, you can click on the “Show in new window” button to view it in your browser for better readability. (Note: the html page produced by the <code>view()</code> function will show separately from the html file knitted from RMD file).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>rENA<span class="sc">::</span><span class="fu">view</span>(accum.ena, </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">id_col =</span> <span class="st">"ENA_UNIT"</span>, <span class="co"># do not need to change this</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">wh =</span> <span class="fu">c</span>(<span class="st">"SecondGame.samuel o"</span>), <span class="co"># the unit we are interested in</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">units.by =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"UserName"</span>), <span class="co"># consistent with in 3.3.1 </span></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">conversation.by =</span> <span class="fu">c</span>(<span class="st">"Condition"</span>, <span class="st">"GroupName"</span>, <span class="st">"ActivityNumber"</span>), <span class="co"># consistent with in 4.3.3</span></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">codes =</span> <span class="fu">c</span>(<span class="st">"Performance.Parameters"</span>, <span class="st">"Design.Reasoning"</span>), <span class="co"># codes of choice</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>     <span class="at">window =</span> <span class="dv">7</span>) <span class="co"># consistent with in 3.3.4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In the&nbsp;<code>Viewer</code>&nbsp;panel, hover over your cursor on any of the lines that are in bold, a size of 7 lines rectangle shows up, representing that in a moving stanza window of size 7, the referent line (the line in bold) and its preceding 6 lines. The 1 and 0 in&nbsp;<code>Technical.Constraints</code>&nbsp;column and Design.Reasoning column shows where the connections happened.</p>
<p>For example, line 2477 Samuel shared his&nbsp;<code>Design.Reasoning</code>&nbsp;about “mindful of (the) how one device scores relative to other ones”, to reference back to what Casey said in line 2476 about&nbsp;<code>Performance.Parameters</code>&nbsp;“not one source/censor can be the best in every area so we had to sacrifice certain attributes”, as well as what Jackson said in line 2475 about safety as one of the&nbsp;<code>Performance.Parameters</code>&nbsp;“when it came to the different attributes, i think that all were important in their own way but i think safety is one of the most important”.</p>
<p>This is a qualitative example of a connection made between&nbsp;<code>Performance.Parameters</code>&nbsp;and&nbsp;<code>Design.Reasoning.</code></p>
</section>
</section>
<section id="using-ena-model-outputs-in-other-analyses" class="level3">
<h3 class="anchored" data-anchor-id="using-ena-model-outputs-in-other-analyses">Using ENA model outputs in other analyses</h3>
<p>It is often useful to use the outputs of ENA models in subsequent analyses. The most commonly used outputs are the ENA points, i.e.,&nbsp;<code>set$points</code>. For example, we can use a linear regression analysis to test whether ENA points on the first two dimensions are predictive of an outcome variable, in this case, change in confidence in engineering skills.</p>
<p>First we’ll need to create a new data frame called <code>regression_data</code> by copying the ENA point coordinates, then change the <code>CONFIDENCE.Change</code> column from a factor into numeric format so we can use it in regression models:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>regression_data <span class="ot">&lt;-</span> set.ena<span class="sc">$</span>points</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>regression_data<span class="sc">$</span>CONFIDENCE.Change <span class="ot">=</span> <span class="fu">as.numeric</span>(regression_data<span class="sc">$</span>CONFIDENCE.Change)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we can fit a linear regression predicting students’ confidence change from their ENA first (MR1) and second (SVD2) dimension scores while controlling for their experimental condition, and omitting any missing cases.</p>
<p>Run the following code to fit our model and save as <code>condition_regression</code> and print the full model summary:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>condition_regression <span class="ot">&lt;-</span> <span class="fu">lm</span>(CONFIDENCE.Change <span class="sc">~</span> MR1 <span class="sc">+</span> SVD2 <span class="sc">+</span> Condition, </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">data =</span> regression_data, </span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">na.action =</span> na.omit)</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(condition_regression)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The results of this regression analysis show that <strong>ENA points are not a significant predictor of the students’ pre-post change in confidence</strong> (MR1:&nbsp;<em>t</em>=-0.53,&nbsp;<em>p</em>=0.60; SVD2:&nbsp;<em>t</em>=0.46,&nbsp;<em>p</em>=0.65; Condition:&nbsp;<em>t</em>=-1.36,&nbsp;<em>p</em>=0.18).</p>
<p><strong>The overall model was also not significant</strong> (F(3, 43)=2.01,&nbsp;<em>p</em>=0.13) with an adjusted r-squared value of 0.06.</p>
<p>Recall that the dataset we are using is a small subset of the full, and thus results that are significant for the whole dataset may not be for this sample.</p>
</section>
</section>
<section id="communicate" class="level2">
<h2 class="anchored" data-anchor-id="communicate">5. COMMUNICATE</h2>
<p>Recall that the final(ish) step in our workflow/process is sharing the results of analysis with wider audience. Krumm et al.&nbsp;(2018) outlined the following 3-step process for communicating with education stakeholders what you have learned through analysis:</p>
<ol type="1">
<li><strong>Select</strong>. Communicating what one has learned involves selecting among those analyses that are most important and most useful to an intended audience, as well as selecting a form for displaying that information, such as a graph or table in static or interactive form, i.e.&nbsp;a “data product.”</li>
<li><strong>Polish</strong>. After creating initial versions of data products, research teams often spend time refining or polishing them, by adding or editing titles, labels, and notations and by working with colors and shapes to highlight key points.</li>
<li><strong>Narrate</strong>. Writing a narrative to accompany the data products involves, at a minimum, pairing a data product with its related research question, describing how best to interpret the data product, and explaining the ways in which the data product helps answer the research question.</li>
</ol>
<p>In this case study, we focused applying some fairly standard topic modeling approaches to help us understand topics that emerged in online discussion forums as part of a online course for statistics educators. Specifically, we made our very first attempt at fitting both LDA and STM topic models to identify the key words .</p>
<p>For this case study, let’s focus on returning to our research question:</p>
<ol type="1">
<li>What are the patterns of epistemic connections formed by learners as they collaboratively engage in engineering problem-solving tasks within digital internship environments?</li>
<li>Is there a difference in learners’ epistemic frames based on the condition to which they were assigned?</li>
</ol>
<section id="your-turn-9" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-9"><strong>👉 Your Turn</strong> <strong>⤵</strong></h4>
<p>Imagine that your are part of the RescuShell research team responsible for communicating your work to a broader audience. Based on the analyses conducted in Sections 3 &amp; 4, write a brief summary for three key findings from our epistemic network analyses that you think would be interesting and potentially actionable.</p>
<ol type="1">
<li><p>KEY FINDING</p></li>
<li><p>KEY FINDING</p></li>
<li><p>KEY FINDING</p></li>
</ol>
</section>
<section id="congratulations" class="level3">
<h3 class="anchored" data-anchor-id="congratulations">Congratulations!</h3>
<p>You’ve completed the Module 4 Case Study: Intro to ENA. <strong>To “turn in” your work, you can click the “Render” icon in the menu bar above.</strong> This will create a HTML report in your Files pane that serves as a record of your completed assignment and that can be opened in a browser or shared on the web.</p>
</section>
<section id="references" class="level3 unnumbered">


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-arastoopour2015teaching" class="csl-entry" role="listitem">
Arastoopour Irgens, Golnaz, David Williamson Shaffer, Zachari Swiecki, AR Ruis, and Naomi C Chesler. 2015. <span>“Teaching and Assessing Engineering Design Thinking with Virtual Internships and Epistemic Network Analysis.”</span> <em>International Journal of Engineering Education</em>.
</div>
<div id="ref-chesler2015novel" class="csl-entry" role="listitem">
Chesler, Naomi C, Andrew R Ruis, Wesley Collier, Zachari Swiecki, Golnaz Arastoopour, and David Williamson Shaffer. 2015. <span>“A Novel Paradigm for Engineering Education: Virtual Internships with Individualized Mentoring and Assessment of Engineering Thinking.”</span> <em>Journal of Biomechanical Engineering</em> 137 (2): 024701.
</div>
<div id="ref-shaffer2017quantitative" class="csl-entry" role="listitem">
Shaffer, David Williamson. 2017. <em>Quantitative Ethnography</em>. Lulu. com.
</div>
<div id="ref-shaffer2014guide" class="csl-entry" role="listitem">
Shaffer, DW, and G Arastoopour. 2014. <span>“Guide to RSdata. Csv Sample ENA Data Set.”</span> <em>Madison, WI: Games and Professional Simulations Technical Report</em> 3.
</div>
<div id="ref-tan2024epistemic" class="csl-entry" role="listitem">
Tan, Yuanru, Zachari Swiecki, Andrew R Ruis, and David Shaffer. 2024. <span>“Epistemic Network Analysis and Ordered Network Analysis in Learning Analytics.”</span> In <em>Learning Analytics Methods and Tutorials: A Practical Guide Using r</em>, 569–636. Springer Nature Switzerland Cham.
</div>
<div id="ref-wickham2023r" class="csl-entry" role="listitem">
Wickham, Hadley, Mine Çetinkaya-Rundel, and Garrett Grolemund. 2023. <em>R for Data Science</em>. " O’Reilly Media, Inc.". <a href="https://r4ds.hadley.nz">https://r4ds.hadley.nz</a>.
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>